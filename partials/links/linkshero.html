<!doctype html>
<html lang="en">
<head>
  <style>

:root{
  --card-radius:16px;
  --tile-header-h: 56px;
  --tile-preview-h: 220px;
  --tile-footer-h: 56px;

}

.u-text-footer{ color: var(--footer-text); }
.c-showcase{ background: var(--footer-bg); min-height: auto; padding-block: clamp(20px,4vw,48px); }
/* About section adjustments */
.about{ text-align:center; background:var(--footer-bg); padding:16px; }

.c-showcase__inner{ max-width:1100px; margin-inline:auto;  }
.xy-page-title{ font-size: clamp(28px,4.5vw,40px); font-weight:700; padding: 0 1rem; }

.c-card-grid{ display:grid; gap:var(--space-4); grid-template-columns:1fr; }

.c-card{ background:#fff; border:1px solid var(--color-border); box-shadow:0 2px 4px rgba(0,0,0,.03); padding:clamp(16px,3vw,24px); border-radius:0; }
@media (min-width:768px){
  .u-bleed-mobile{
    width:auto;
    margin-left:0;
    margin-right:0;
    border-radius:var(--card-radius);
  }
  .c-card{
    border-radius:var(--card-radius);
    margin-inline: var(--space-4);
  }
}
.c-card{ transition: box-shadow .2s ease; }
.c-section-head{ display:flex; align-items:baseline; justify-content:space-between; gap:var(--space-3); padding-block:clamp(16px,3vw,28px); margin-bottom:clamp(16px,3vw,24px); border-bottom:1px dashed var(--color-border); }
.c-section-head h2{ margin:0; font-size:clamp(20px,3.5vw,24px); }
.c-section-head__sub{ color:var(--brand-muted); font-size:12px; letter-spacing:.2px; }


.profile-grid{ display:grid; gap:16px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); grid-auto-rows: 1fr; }
.profile-card{
  border-radius:14px;
  overflow:hidden;
  background:#fff;
  border:1px solid var(--color-border);
  box-shadow: 0 2px 4px rgba(0,0,0,.03);
  display:grid;
  grid-template-rows: var(--tile-header-h) var(--tile-preview-h) var(--tile-footer-h);
  height:100%;
  min-height: calc(var(--tile-header-h) + var(--tile-preview-h) + var(--tile-footer-h));
  transition: transform .18s ease, box-shadow .18s ease;
  /* Per-tile theming hooks (override these via inline style on .profile-card) */
  --footer-bg: var(--footer-bg);
  --footer-text: var(--footer-text);
  --btn-fg: var(--footer-text);
  --btn-bg: transparent;
  --btn-brd: color-mix(in oklab, var(--btn-fg) 30%, transparent);
  --btn-bg-h: color-mix(in oklab, var(--btn-fg) 10%, transparent);
}
.profile-card:hover{ transform: translateY(-4px); box-shadow: 0 4px 8px rgba(0,0,0,.06); }
.profile-head{ display:flex; align-items:center; gap:8px; padding:12px 12px; color:#fff; min-height:40px; }
.profile-card .profile-head{ background: var(--header-bg, #222); color:#fff; }
.profile-card[data-tile="Google Maps"] .profile-head{ color:#000; }
.profile-card[data-tile="YouTube"] .logo{ width:26px; height:26px; } /* was 22px */

/* Uniform header sizing & typography */
.profile-head{
  height: var(--tile-header-h);
  padding: 0 12px;
  font-size: clamp(14px, 3.2vw, 15px);
  font-weight: 700;
  line-height: 1;
}
.profile-head .logo{ width:22px; height:22px; display:block; flex:0 0 auto; margin-left:auto; }
.profile-head .logo svg{ width:100%; height:100%; display:block; }
.profile-head .meta {
  line-height: 1.1;
}
.profile-handle,
.profile-username {
  margin: 0;
}
.profile-head .avatar{ display:none; }
.profile-handle{ font-weight:700; }
.profile-body{ padding:0px 0px; display:grid; gap:6px; }
/* Per‑tile body background override */
.profile-card[data-tile="YouTube"] .profile-body{ background:#000; }
.profile-actions{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:0 14px;
  height: var(--tile-footer-h);
  background: var(--footer-bg);
  color: var(--footer-text);
  border-top: none;
}
/* --- Frosted footer variant (opt-in per tile) --- */
.profile-card[data-footer="frosted"]{ --footer-text:#222; }
.profile-card[data-footer="frosted"] .profile-actions{
  /* Use a translucent layer + blur to create the glass effect */
  background: rgba(255,255,255,var(--frost-alpha));
  backdrop-filter: saturate(1.2) blur(var(--frost-blur));
  -webkit-backdrop-filter: saturate(1.2) blur(var(--frost-blur));
  border-top: 1px solid var(--frost-brd);
}
/* Improve button contrast on frosted panes */
.profile-card[data-footer="frosted"] .profile-btn{
  --btn-fg:#222;
  --btn-brd: rgba(0,0,0,.14);
  --btn-bg-h: rgba(0,0,0,.06);
}
/* Fallback when blur isn't supported */
@supports not (backdrop-filter: blur(1px)) {
  .profile-card[data-footer="frosted"] .profile-actions{
    background: color-mix(in oklab, #fff 80%, var(--footer-bg) 20%);
  }
}
.profile-actions .left,.profile-actions .right{ display:flex; gap:8px; }
.profile-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  height:36px;
  padding:0 12px;
  border-radius:10px;
  border:1px solid var(--btn-brd);
  background: var(--btn-bg);
  color: var(--btn-fg);
  text-decoration:none;
  font-weight:600;
  font-size:.9rem;
  cursor:pointer;
  user-select:none;
  transition: background .15s, transform .08s, border-color .15s;
}
.profile-btn:hover{ background: var(--btn-bg-h); }
.profile-btn:active{ transform: translateY(1px); }
.profile-btn .icon{ font-size:16px; line-height:0; }
.profile-btn svg{ width:16px; height:16px; display:block; }
/* Preview sizing clamp */
.preview{ font-size:.9rem; line-height:1.45; }
.preview .meta{ font-size:.75rem; color: var(--brand-muted); display:block; margin-top:4px; }
/* Kill random margins inside preview */
.preview > *{ margin-block: 0; }
.profile-body > .preview{
  height: var(--tile-preview-h);
  overflow:hidden;
  padding:0px;
  box-sizing: border-box;
}
/* Toast */
.c-toast{ position:fixed; left:50%; bottom:16px; transform:translateX(-50%) translateY(8px); background:#111827; color:#fff; border-radius:10px; padding:10px 12px; font:600 13px/1 ui-sans-serif, system-ui; opacity:0; pointer-events:none; transition:opacity .18s, transform .18s; box-shadow:0 5px 15px rgba(0,0,0,.10); z-index:1000; }
.c-toast.is-visible{ opacity:1; transform: translateX(-50%) translateY(0); }
@media (max-width:767px){ .u-bleed-mobile{ width:100dvw; margin-left:calc(50% - 50dvw); margin-right:calc(50% - 50dvw); border-radius:0; } }
@media (prefers-reduced-motion: reduce){
  .profile-card{ transition:none; }
  .profile-btn{ transition:none; }
}

/* About/footer strip */
.about{
  background: var(--footer-bg);
  text-align: center;
  padding: 16px;
}
.about a{
  color: var(--footer-text);
  text-decoration: none;
}
.about a:hover{ text-decoration: underline; }
  </style>
</head>
<body>
  <section class="c-showcase" aria-label="Brand & Components Showcase">
    <div class="c-showcase__inner">
      <h1 class="xy-page-title u-text-footer" style="margin:0 0 var(--space-5);">All Links</h1>
      <div class="c-card-grid">
        <div class="c-card u-bleed-mobile">
          <header class="c-section-head">
            <h2></h2>
            <div class="c-section-head__sub">Tap a card to open. Use 'Copy' to copy.</div>
          </header>
          <div id="profiles" class="profile-grid"></div>
        </div>
      </div>
    </div>
  </section>
  <section class="about">
    <p><a href="/">← Back to Homepage</a></p>
  </section>
  <div class="c-toast" id="toast" role="status" aria-live="polite"></div>

  <script>
/* Super-lean controller: just load fragments and wire interactions */
const ORDER = ["linkedin","instagram","letterboxd","spotify","github","youtube","tiktok","venmo","googlemaps","telegram","facebook"];
const $profiles = document.getElementById('profiles');
const toastEl = document.getElementById('toast');

const CONFIG = {
  linkedin:   { name:'LinkedIn',   url:'https://www.linkedin.com/in/nat-werth', copy:'https://www.linkedin.com/in/nat-werth', headerBg:'#0a66c2', footer:'solid', handle:'@nat-werth',  vars:{ '--footer-bg':'#eef5fb','--footer-text':'#0b5394','--btn-fg':'#0b5394','--btn-brd':'#a3c3e5','--btn-bg':'transparent','--btn-bg-h':'rgba(10,102,194,.08)'} },
  instagram:  { name:'Instagram',  url:'https://www.instagram.com/natwerth',    copy:'https://www.instagram.com/natwerth', headerBg:'#e1306c', footer:'frosted', vars:{ '--footer-bg':'#fff','--footer-text':'#6b7280','--btn-fg':'#6b7280','--btn-brd':'#e5e7eb','--btn-bg':'transparent','--btn-bg-h':'rgba(0,0,0,.06)'} },
  letterboxd: { name:'Letterboxd', url:'https://letterboxd.com/natwerth',               copy:'https://letterboxd.com/natwerth', headerBg:'#181818', footer:'solid',  vars:{ '--footer-bg':'#111827','--footer-text':'#cbd5e1','--btn-fg':'#cbd5e1','--btn-brd':'#374151','--btn-bg':'transparent','--btn-bg-h':'rgba(203,213,225,.08)'} },
  spotify:    { name:'Spotify',    url:'https://open.spotify.com/user/zedbikc30wyo6bjpgvugo24pp?si=8RK2YWJOTwCy-F28WXOhJQ&nd=1&dlsi=b7b2a6b2e27444dc',    copy:'https://open.spotify.com/user/zedbikc30wyo6bjpgvugo24pp?si=8RK2YWJOTwCy-F28WXOhJQ&nd=1&dlsi=b7b2a6b2e27444dc', headerBg:'#1db954', footer:'solid',  vars:{ '--footer-bg':'#0a0a0a','--footer-text':'#d1d5db','--btn-fg':'#d1d5db','--btn-brd':'#374151','--btn-bg':'transparent','--btn-bg-h':'rgba(209,213,219,.08)'} },
  github:     { name:'GitHub',     url:'https://github.com/natwerth',          copy:'https://github.com/natwerth', headerBg:'#24292f', footer:'solid',  vars:{ '--footer-bg':'#0d1117','--footer-text':'#c9d1d9','--btn-fg':'#c9d1d9','--btn-brd':'#30363d','--btn-bg':'transparent','--btn-bg-h':'rgba(201,209,217,.08)'} },
  youtube:    { name:'YouTube',    url:'https://www.youtube.com/@natwerth5512',    copy:'https://www.youtube.com/@natwerth5512', headerBg:'#ff0000', footer:'solid', handle:'@natwerth5512',  vars:{ '--footer-bg':'#111111','--footer-text':'#e5e7eb','--btn-fg':'#e5e7eb','--btn-brd':'#333','--btn-bg':'transparent','--btn-bg-h':'rgba(229,231,235,.08)'} },
  tiktok:    { name:'TikTok',    url:'https://www.tiktok.com/@natwerth3',       copy:'https://www.tiktok.com/@natwerth3', headerBg:'#000000', footer:'solid', handle:'@natwerth3', vars:{ '--footer-bg':'#ffffff','--footer-text':'#1f2937','--btn-fg':'#1f2937','--btn-brd':'#e5e7eb','--btn-bg':'transparent','--btn-bg-h':'rgba(0,0,0,.06)'} },
  venmo:      { name:'Venmo',      url:'https://venmo.com/u/natwerth',         copy:'https://venmo.com/u/natwerth', headerBg:'#3d95ce', footer:'solid',  vars:{ '--footer-bg':'#f1f7fc','--footer-text':'#3b82f6','--btn-fg':'#3b82f6','--btn-brd':'#bfdbfe','--btn-bg':'transparent','--btn-bg-h':'rgba(59,130,246,.08)'} },
  googlemaps: { name:'Google Maps',url:'https://www.google.com/maps/contrib/111567881794706653052/reviews/@29.8835804,-104.4037173,3z/data=!3m1!4b1!4m3!8m2!3m1!1e1?authuser=1&entry=ttu&g_ep=EgoyMDI1MDkxMC4wIKXMDSoASAFQAw%3D%3D',         copy:'https://www.google.com/maps/contrib/111567881794706653052/reviews/@29.8835804,-104.4037173,3z/data=!3m1!4b1!4m3!8m2!3m1!1e1?authuser=1&entry=ttu&g_ep=EgoyMDI1MDkxMC4wIKXMDSoASAFQAw%3D%3D', headerBg:'#f2f2f2', footer:'solid',  vars:{ '--footer-bg':'#e8f0fe','--footer-text':'#374151','--btn-fg':'#374151','--btn-brd':'#aecbfa','--btn-bg':'transparent','--btn-bg-h':'rgba(26,115,232,.12)'} },
  telegram:   { name:'Telegram',   url:'https://t.me/natwerth',                copy:'https://t.me/natwerth', headerBg:'#229ED9', footer:'solid',  vars:{ '--footer-bg':'#ffffff','--footer-text':'#000000','--btn-fg':'#0369a1','--btn-brd':'#d4eaf7','--btn-bg':'transparent','--btn-bg-h':'rgba(3,105,161,.08)'} },
  facebook:   { name:'Facebook',   url:'https://facebook.com/natwerth',        copy:'https://facebook.com/natwerth', headerBg:'#0866ff', footer:'solid',  vars:{ '--footer-bg':'#eef2ff','--footer-text':'#1f2937','--btn-fg':'#1f2937','--btn-brd':'#c7d2fe','--btn-bg':'transparent','--btn-bg-h':'rgba(31,41,55,.06)'} }
};

const ICONS = {
  linkedin: 'linkedin.png',
  instagram: 'instagram.png',
  letterboxd: 'letterboxd.svg',
  spotify: 'spotify.png',
  github: 'github.png',
  youtube: 'youtube.png',
  tiktok: 'tiktok.png',
  venmo: 'venmo.png',
  googlemaps: 'maps.svg',
  telegram: 'telegram.png',
  facebook: 'facebook.png'
};

const INLINE_ICONS = {
  linkedin: `
<!-- LinkedIn "in" monogram (dot nudged up, slightly larger) -->
<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" role="img">
  <g fill="currentColor">
    <!-- i dot (moved up, bigger) -->
    <circle cx="6" cy="5.0" r="1.8"/>
    <!-- i stem (sharp corners) -->
    <rect x="4.4" y="8.6" width="3.2" height="11.4"/>
    <!-- n -->
    <path d="M10 8.6h3v1.8c.96-1.21 2.18-2.02 4.02-2.02 2.71 0 4.58 1.73 4.58 4.92V20h-3.2v-5.34c0-1.73-.84-2.72-2.43-2.72-1.59 0-2.57 1.12-2.57 2.72V20H10V8.6Z"/>
  </g>
</svg>
  `,
  youtube: `
<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" role="img">
  <defs>
    <mask id="ytCut24" maskUnits="userSpaceOnUse">
      <rect x="0" y="0" width="24" height="24" fill="#fff"/>
      <polygon points="10.2,9 15.6,12 10.2,15"
         transform="translate(12,12) scale(0.9) translate(-12,-12)"
         fill="#000"/>
    </mask>
  </defs>

  <path fill="currentColor" mask="url(#ytCut24)"
        d="
          M 5.5,6.4
          C 10.0,6 14.0,6 18.5,6.4
          Q 19.9,6.55 20.0,8.6
          L 20.0,15.4
          Q 19.9,17.45 18.5,17.6
          C 14.0,17.9 10.0,17.9 5.5,17.6
          Q 4.1,17.45 4.0,15.4
          L 4.0,8.6
          Q 4.1,6.55 5.5,6.4
          Z
        "/>
</svg>
  `,
  letterboxd: `
    <svg viewBox="0 0 22 22" aria-hidden="true" focusable="false">
      <!-- Three circles: orange, green, light blue -->
      <circle cx="6" cy="11" r="3" fill="#FF8000"/>
      <circle cx="11" cy="11" r="3" fill="#62D84E"/>
      <circle cx="16" cy="11" r="3" fill="#40BCF4"/>
    </svg>
  `,

};

async function loadFragments(){
  const htmls = ORDER.map(key => renderTile(key));
  $profiles.innerHTML = htmls.join('');
}

function renderTile(key){
  const cfg = CONFIG[key] || { name: key.charAt(0).toUpperCase()+key.slice(1), url:'#', copy:'#', headerBg:'#222', footer:'solid', vars:{} };
  const serviceName = cfg.name;
  const varStyle = (
    Object.entries(cfg.vars || {}).map(([k,v]) => `${k}:${v}`).join(';')
    + `;--header-bg:${cfg.headerBg}`
  );
  const footerAttr = cfg.footer === 'frosted' ? ' data-footer="frosted"' : '';
  const logoHTML = INLINE_ICONS[key]
    ? `<span class="logo" aria-hidden="true">${INLINE_ICONS[key]}</span>`
    : `<img class="logo" src="/assets/icons/${ICONS[key] || (key + '.png')}" alt="" aria-hidden="true" loading="lazy" decoding="async">`;
  return `
  <div class="profile-card" data-tile="${serviceName}" data-url="${cfg.url}" data-header-bg="${cfg.headerBg}" style="${varStyle}"${footerAttr}>
    <div class="profile-head">
      <div class="meta">
        <p class="profile-username" style="font-weight:700;margin:0;">${serviceName}</p>
        <p class="profile-handle" style="opacity:.9;margin:0;">${cfg.handle || '@natwerth'}</p>
      </div>
      ${logoHTML}
    </div>
    <div class="profile-body">
      <div class="preview" data-preview-fragment="/partials/links/tilefragments/${key}.html" aria-label="${serviceName} preview">
        <p style="font-size:.85rem;color:var(--brand-muted);">Loading ${serviceName} preview…</p>
      </div>
    </div>
    <div class="profile-actions">
      <div class="left">
        <a class="profile-btn" href="${cfg.url}" target="_blank" rel="noopener" aria-label="Visit ${serviceName}">Visit</a>
      </div>
      <div class="right">
        <button class="profile-btn profile-copy" data-copy="${cfg.copy}" aria-label="Copy ${serviceName} link">Copy link</button>
      </div>
    </div>
  </div>`;
}

async function populatePreviewFragments(){
  const nodes = $profiles.querySelectorAll('.preview[data-preview-fragment]');
  await Promise.all(Array.from(nodes).map(async (el) => {
    const url = el.getAttribute('data-preview-fragment');
    if(!url) return;
    try{
      const res = await fetch(url, {cache:'no-cache'});
      if(!res.ok) throw new Error('missing');
      const html = await res.text();
      el.innerHTML = html;
    } catch {
      // Leave the placeholder text intact if missing
    }
  }));
}

function wireInteractions(){
  // Open card on click (if data-url present), ignore buttons
  $profiles.addEventListener('click', (e) => {
    const btn = e.target.closest('a,button'); if(btn) return;
    const card = e.target.closest('.profile-card'); if(!card) return;
    const href = card.getAttribute('data-url'); if(href) window.open(href, '_blank');
  });
  // Copy link buttons
  $profiles.addEventListener('click', (e) => {
    const btn = e.target.closest('.profile-copy'); if(!btn) return;
    const value = btn.getAttribute('data-copy') || '';
    if(!value) return;
    navigator.clipboard.writeText(value)
      .then(() => showToast('Link copied'))
      .catch(() => showToast('Copy failed'));
  });
}

(async function init(){
  try{
    await loadFragments();
    wireInteractions();
    await populatePreviewFragments();
  }
  catch(err){
    console.error(err);
    $profiles.innerHTML = '<p style="color:#6b7280">Some fragments are missing.</p>';
  }
})();

function showToast(msg){
  toastEl.textContent = msg;
  toastEl.classList.add('is-visible');
  clearTimeout(showToast._t);
  showToast._t = setTimeout(() => toastEl.classList.remove('is-visible'), 1600);
}
  </script>
</body>
</html>

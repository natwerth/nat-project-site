<!doctype html>
<html lang="en">

<head>

<style>
:root{
  --card-radius:16px;
  --tile-header-h: 56px;
  --tile-preview-h: 220px;
  --tile-footer-h: 56px;
}

.u-text-footer{ color: var(--footer-text); }
.c-showcase{ background: var(--footer-bg); min-height: auto; padding-block: clamp(20px,4vw,48px); }
/* About section adjustments */
.about{ text-align:center; background:var(--footer-bg); padding:16px; }

.c-showcase__inner{ max-width:1100px; margin-inline:auto; }
.page-title{ font-size: clamp(48px,8vw,96px); font-weight:700; padding: 0 1rem; }

.c-card-grid{ display:grid; gap:var(--space-4); grid-template-columns:1fr; }

.c-card{
  background:#fff;
  border:1px solid var(--color-border);
  box-shadow:0 2px 4px rgba(0,0,0,.03);
  padding:clamp(16px,3vw,24px);
  border-radius:0;
}

@media (min-width:768px){
  .u-bleed-mobile{
    width:auto;
    margin-left:0;
    margin-right:0;
    border-radius:var(--card-radius);
  }
  .c-card{
    border-radius:var(--card-radius);
    margin-inline: var(--space-4);
  }
}

.c-card{ transition: box-shadow .2s ease; }

.c-section-head{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:var(--space-3);
  padding-block:clamp(16px,3vw,28px);
  margin-bottom:clamp(8px,2vw,12px);
  border-bottom:1px dashed var(--color-border);
}
.c-section-head h2{
  margin:0;
  font-size:clamp(20px,3.5vw,24px);
}
.c-section-head__sub{
  color:var(--brand-muted);
  font-size:12px;
  letter-spacing:.2px;
}

/* About/footer strip */
.about{
  background: var(--footer-bg);
  text-align: center;
  padding: 16px;
}
.about a{
  color: var(--footer-text);
  text-decoration: none;
}
.about a:hover{ text-decoration: underline; }

.ql-viewport{
  position:relative;
  overflow:hidden;
  margin-top:var(--space-4);
  block-size:260px;
  border-radius:var(--card-radius);
  border:1px dashed var(--color-border);
  background:#fff;
  touch-action:none;
  cursor:grab;
}
.ql-viewport.is-dragging{
  cursor:grabbing;
}
.ql-canvas{
  position:absolute;
  inset:0;
}
.ql-icon{
  position:absolute;
  left:50%;
  top:50%;
  width:48px;
  height:48px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#111;
  color:#fff;
  text-decoration:none;
  box-shadow:0 6px 16px rgba(0,0,0,.22);
  will-change:transform;
}
.ql-icon i{
  font-size:20px;
  line-height:1;
  color:#fff;
}
.ql-icon:focus-visible{
  outline:2px solid var(--brand-primary);
  outline-offset:3px;
}
.u-visually-hidden{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0 0 0 0);
  white-space:nowrap;
  border:0;
}

</style>

</head>

<body>
  <section class="c-showcase" aria-label="Brand & Components Showcase">
    <div class="c-showcase__inner">
      <h1 class="page-title u-text-footer" style="margin:0 0 var(--space-5);">
        <strong>Nat.</strong> <em style="font-weight:300;">Everywhere.</em>
      </h1>
      <div class="c-card-grid">
        <div class="c-card u-bleed-mobile">
          <header class="c-section-head">
            <h2>Quick Links</h2>
            <div class="c-section-head__sub">Drag to scroll.</div>
          </header>
          <div class="ql-viewport" id="ql-viewport" aria-label="Quick link grid" role="group">
            <div class="ql-canvas" id="ql-canvas"></div>
            <ul class="u-visually-hidden" id="ql-a11y-list">
              <li><a href="#" aria-label="GitHub profile">GitHub</a></li>
              <li><a href="#" aria-label="LinkedIn profile">LinkedIn</a></li>
              <li><a href="#" aria-label="Instagram profile">Instagram</a></li>
              <li><a href="#" aria-label="X profile">X</a></li>
              <li><a href="#" aria-label="Email Nat">Email</a></li>
              <li><a href="#" aria-label="Portfolio site">Portfolio</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="about">
    <p><a href="/">‚Üê Back to Homepage</a></p>
  </section>
  <div class="c-toast" id="toast" role="status" aria-live="polite"></div>
  <script>
    (function(){
      const viewport = document.getElementById('ql-viewport');
      const canvas = document.getElementById('ql-canvas');
      if (!viewport || !canvas) return;

      const ICON_DATA = [
        { icon: 'fa-brands fa-github',      href: '#', label: 'GitHub',      color: '#181717' },
        { icon: 'fa-brands fa-linkedin-in', href: '#', label: 'LinkedIn',    color: '#0A66C2' },
        { icon: 'fa-brands fa-instagram',   href: '#', label: 'Instagram',   color: '#737373' }, // multi-color, neutral grey
        { icon: 'fa-solid fa-envelope',     href: '#', label: 'Email',       color: '#4B5563' },
        { icon: 'fa-brands fa-x-twitter',   href: '#', label: 'X',           color: '#000000' },
        { icon: 'fa-solid fa-globe',        href: '#', label: 'Portfolio',   color: '#4B5563' },
        { icon: 'fa-brands fa-spotify',     href: '#', label: 'Spotify',     color: '#1DB954' },
        { icon: 'fa-brands fa-letterboxd',  href: '#', label: 'Letterboxd',  color: '#4B5563' },
        { icon: 'fa-brands fa-youtube',     href: '#', label: 'YouTube',     color: '#FF0000' },
        { icon: 'fa-brands fa-discord',     href: '#', label: 'Discord',     color: '#5865F2' }
      ];

      const baseSize   = 48;           // icon container size (matches CSS)
      const colSpacing = baseSize * 1.6;
      const rowSpacing = baseSize * 1.25;
      const maxScale   = 1.45;
      const innerRadius = 60;
      const outerRadius = 260;
      const colCount    = 4;

      const icons = [];
      let minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity;

      ICON_DATA.forEach((data, index) => {
        const row = Math.floor(index / colCount);
        const col = index % colCount;

        const xOffset = (col - (colCount - 1) / 2) * colSpacing;
        const stagger = (row % 2 === 0 ? 0 : colSpacing / 2);
        const x = xOffset + stagger;
        const y = (row - 1) * rowSpacing; // center-ish cluster

        // track virtual bounds of the icon cluster
        if (x < minX) minX = x;
        if (x > maxX) maxX = x;
        if (y < minY) minY = y;
        if (y > maxY) maxY = y;

        const a = document.createElement('a');
        a.href = data.href;
        a.className = 'ql-icon';
        a.style.backgroundColor = data.color || '#111';
        a.setAttribute('aria-label', data.label);
        a.innerHTML = '<i class="' + data.icon + '"></i>';

        canvas.appendChild(a);

        icons.push({
          x,
          y,
          el: a
        });
      });

      let offsetX = 0;
      let offsetY = 0;
      let velocityX = 0;
      let velocityY = 0;
      let isDragging = false;
      let lastPointerX = 0;
      let lastPointerY = 0;
      let lastMoveTime = 0;

      let pointerLocalX = 0;
      let pointerLocalY = 0;
      let usePointerFocal = false;

      function updatePointerLocal(e){
        const rect = viewport.getBoundingClientRect();
        pointerLocalX = e.clientX - rect.left - rect.width / 2;
        pointerLocalY = e.clientY - rect.top - rect.height / 2;
      }

      viewport.addEventListener('pointerdown', (e) => {
        viewport.setPointerCapture(e.pointerId);
        isDragging = true;
        viewport.classList.add('is-dragging');
        lastPointerX = e.clientX;
        lastPointerY = e.clientY;
        lastMoveTime = performance.now();
        velocityX = 0;
        velocityY = 0;
        if (e.pointerType === 'mouse'){
          updatePointerLocal(e);
          usePointerFocal = true;
        }
      });

      viewport.addEventListener('pointermove', (e) => {
        if (e.pointerType === 'mouse'){
          updatePointerLocal(e);
          usePointerFocal = true;
        }
        if (!isDragging) return;
        const now = performance.now();
        const dt = now - lastMoveTime || 16;
        const dx = e.clientX - lastPointerX;
        const dy = e.clientY - lastPointerY;
        lastPointerX = e.clientX;
        lastPointerY = e.clientY;
        lastMoveTime = now;

        offsetX += dx;
        offsetY += dy;

        velocityX = dx / dt * 16;
        velocityY = dy / dt * 16;
      });

      function endDrag(e){
        if (!isDragging) return;
        isDragging = false;
        viewport.classList.remove('is-dragging');
        if (e && e.pointerId != null){
          viewport.releasePointerCapture(e.pointerId);
        }
      }

      viewport.addEventListener('pointerup', endDrag);
      viewport.addEventListener('pointercancel', endDrag);
      viewport.addEventListener('pointerleave', (e) => {
        if (!isDragging){
          usePointerFocal = false;
        }
      });

      function smoothStep(t){
        return t * t * (3 - 2 * t);
      }

      function animate(){
        requestAnimationFrame(animate);

        if (!isDragging){
          const friction = 0.9; // slightly snappier than 0.92
          velocityX *= friction;
          velocityY *= friction;
          if (Math.abs(velocityX) < 0.01) velocityX = 0;
          if (Math.abs(velocityY) < 0.01) velocityY = 0;
          offsetX += velocityX;
          offsetY += velocityY;
        }

        // compute effective canvas bounds based on icon cluster and viewport size
        const rect = viewport.getBoundingClientRect();
        const halfW = rect.width / 2;
        const halfH = rect.height / 2;
        const marginX = baseSize * maxScale;
        const marginY = baseSize * maxScale;

        const minOffsetX = -halfW - marginX - maxX;
        const maxOffsetX =  halfW + marginX - minX;
        const minOffsetY = -halfH - marginY - maxY;
        const maxOffsetY =  halfH + marginY - minY;

        // apply simple bounce when hitting edges
        const bounce = 0.35;
        if (offsetX < minOffsetX){
          offsetX = minOffsetX;
          velocityX = -velocityX * bounce;
        } else if (offsetX > maxOffsetX){
          offsetX = maxOffsetX;
          velocityX = -velocityX * bounce;
        }
        if (offsetY < minOffsetY){
          offsetY = minOffsetY;
          velocityY = -velocityY * bounce;
        } else if (offsetY > maxOffsetY){
          offsetY = maxOffsetY;
          velocityY = -velocityY * bounce;
        }

        const focalX = usePointerFocal ? pointerLocalX : 0;
        const focalY = usePointerFocal ? pointerLocalY : 0;

        icons.forEach(icon => {
          const localX = icon.x + offsetX;
          const localY = icon.y + offsetY;

          const dx = localX - focalX;
          const dy = localY - focalY;
          const dist = Math.sqrt(dx * dx + dy * dy);

          let scale = 1;
          if (dist <= innerRadius){
            scale = maxScale;
          } else if (dist >= outerRadius){
            scale = 1;
          } else {
            const t = (dist - innerRadius) / (outerRadius - innerRadius);
            const s = smoothStep(Math.min(Math.max(t, 0), 1));
            scale = maxScale + (1 - maxScale) * s;
          }

          const transform = 'translate(' + localX + 'px,' + localY + 'px) scale(' + scale + ') translate(-50%, -50%)';
          icon.el.style.transform = transform;
        });
      }

      animate();
    })();
  </script>
</body>
</html>
